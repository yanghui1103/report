<?xml version="1.0" encoding="UTF-8"?>
<applications xmlns="http://www.wabacus.com"
					xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
					xsi:schemaLocation="http://www.wabacus.com ../xsd/wabacus.applications.xsd">
	<!--local-cssfiles>
      <css-file>/webresources/css/report_ch.css</css-file>
    </local-cssfiles-->
	<page id="commoninputboxpage1" js="/webresources/script/validate.js">
	  <tabpanel id="tab1" titlestyle="2" titlewidth="130px" margin="10">
		<report id="report1" title="数据自动列表报表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(#label#列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名" clickorderby="true"/>
				<col column="manager" label="部门经理"/>
				<col column="builtdate" label="创建日期" clickorderby="true" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="description" label="简介" datatype="clob" width="500px">
					<inputbox type="textareabox"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_department where   {#condition#} order by deptno]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="200" count="15">
						<promptcol label="deptno" title="部门编号" matchmode="anywhere"/>
						<datasource><option dataset="@{select deptno from tbl_department where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_department(guid=uuid{},@{deptno},@{deptname},@{manager},@{builtdate},@{description});
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{description}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno__old};
			  </update>
			  <delete>
			  	 delete from tbl_department where deptno=@{deptno__old};
			  </delete>
			</sql>
		</report>
		<report id="report2" title="数据细览报表编辑方式一"  extends="editabledetailpage1.report1">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(#label#列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名"/>
				<col column="manager" label="部门经理" br="true"/>
				<col column="builtdate" label="创建日期" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" valuestyleproperty="colspan='3'" br="true">
					<inputbox type="selectbox">
						<option value="优秀" label="优秀"/> 
						<option value="良好" label="良好" />
						<option value="较好" label="较好" />
						<option value="很差" label="很差" />
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox" styleproperty="rows='5'"/>
				</col>
			</display>
		</report>
		<report id="report3" title="数据细览报表编辑方式二"  extends="editabledetailpage1.report2">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(#label#列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名"/>
				<col column="manager" label="部门经理" br="true"/>
				<col column="builtdate" label="创建日期" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" valuestyleproperty="colspan='3'" br="true">
					<inputbox type="selectbox">
						<option value="优秀" label="优秀"/> 
						<option value="良好" label="良好" />
						<option value="较好" label="较好" />
						<option value="很差" label="很差" />
					</inputbox>
				</col>
				<col column="description" label="简介" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox" styleproperty="rows='5'"/>
				</col>
			</display>
		</report>
	  </tabpanel>
	</page>
	
	<page id="passwordinputboxpage1" js="/webresources/script/validate.js">
		<tabpanel id="tp1" margin="10px" titlestyle="2" titlewidth="130px">
			<report id="report1" title="员工信息列表" parenttitle="普通密码框" type="editablelist2" dataexport="richexcel">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='15%'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<group label="姓名">
						<col column="name" label="中文名" clickorderby="true"/>
						<col column="ename" label="英文名" clickorderby="true">
							<inputbox type="passwordbox"/>
						</col>
						<col property="ename2" column="{non-fromdb}" label="英文名明文"/>
					</group>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
				</display>
				<sql>
				  <select>
					<value>
						<![CDATA[SELECT A.no,name,ename,A.deptno,deptname,province,city,county FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where  {#condition#} order by no]]>
					</value>
					<condition name="txtno" label="工号">
						<value>
							<![CDATA[(A.no like  '%#data#%' )]]>
						</value>
						<inputbox>
						  <typeprompt width="-1" count="10">
							<promptcol label="no" matchmode="anywhere"/>
							<datasource><option dataset="@{select no from tbl_baseinfo where {#matchcondition#}}"/></datasource>
						  </typeprompt>
						</inputbox>
					</condition>
					<condition name="txtname" label="姓名">
						<value>
							<![CDATA[(name like  '%#data#%' )]]>
						</value>
					</condition>
				  </select>
				  <insert>
			  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{deptno});
			  		 insert into tbl_detailinfo(@{no},@{ename},@{province},@{city},@{county});
				  </insert>
				  <update>
				     update tbl_baseinfo(@{no},@{name},@{deptno}) where no=@{no__old};
				     update tbl_detailinfo(@{no},@{ename},@{province},@{city},@{county}) where no=@{no__old};
				  </update>
				  <delete>
				  	 delete from tbl_baseinfo where no=@{no__old};
				  	 delete from tbl_detailinfo where no=@{no__old}
				  </delete>
				</sql>
				<format>
					<value>this.ename2=this.ename;</value>
				</format>
			</report>
			<report id="report2" parenttitle="加密密码框" extends="passwordinputboxpage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='15%'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<group label="姓名">
						<col column="name" label="中文名" clickorderby="true"/>
						<col column="ename" label="英文名" clickorderby="true">
							<inputbox type="passwordbox" encodelength="6"/>
						</col>
						<col property="ename2" column="{non-fromdb}" label="英文名明文"/>
					</group>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
				</display>
				<footer><![CDATA[<font color='red'>说明：</font><font color='blue'>无论实际值有多少位，显示到加密密码框的密码都是开发人员指定位数（5位以上）的密文</font>]]></footer>
			</report>
		</tabpanel>
	</page>
	
	<page id="selectboxpage1" js="/webresources/script/validate.js">
		<tabpanel id="tp1" margin="10px" titlestyle="2" titlewidth="130px">
			 <report id="report1" title="员工信息列表" parenttitle="单选框/复选框" extends="popupsinglepage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='10%'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="radiobox">
								<option value="0" label="女"/>
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" width="200px" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="radiobox"  inlinecount="5" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="class{com.wabacusdemo.TestSelectBoxJavaDataSource}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="radiobox" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="radiobox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="class{com.wabacusdemo.TestGetCityOptionsJavaDataSource}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="radiobox" depends="city;province=false" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%' and  province like '%#province#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="300px">
						<inputbox type="checkbox" separator=","  inlinecount="5">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
				</display>
				<footer>
					<![CDATA[<br/>
					<font color='#ff0000'>说明：</font><font color='#0000FF'><br>
					&nbsp;&nbsp;“性别”列为单选框；<br/>
					&nbsp;&nbsp;“兴趣爱好”列为复选框；<br/>
					&nbsp;&nbsp;“所属部门”列为单选框，且通过JAVA类提供选项数据；<br/>
					&nbsp;&nbsp;“省”、“市”、“县”三列为关联单选框，其中“市”和“县”两个单选框都依赖“省”这个单选框，“市”这一列的单选框的选项数据通过JAVA类提供。<br/>
					</font>]]>
				</footer>
			</report>
			<report id="report2" title="员工信息列表" parenttitle="下拉框" extends="popupsinglepage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='10%'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="selectbox">
								<option value="0" label="女"/> 
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox"  inlinecount="5" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="class{com.wabacusdemo.TestGetCityOptionsJavaDataSource}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city;province=false" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%' and  province like '%#province#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="480px">
						<inputbox type="selectbox" multiply="true" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
				</display>
				<footer>
					<![CDATA[<br/>
					<font color='#ff0000'>说明：</font><font color='#0000FF'><br>
					&nbsp;&nbsp;“性别”列为单选下拉框；<br/>
					&nbsp;&nbsp;“兴趣爱好”列为复选下拉框；<br/>
					&nbsp;&nbsp;“所属部门”列为单选下拉框，且通过JAVA类提供选项数据；<br/>
					&nbsp;&nbsp;“省”、“市”、“县”三列为关联单选下拉框，其中“市”和“县”两个下拉框都依赖“省”这个下拉框，“市”这一列的下拉框的选项数据通过JAVA类提供。<br/>
					</font>]]>
				</footer>
			</report>
			<report id="report3" title="员工信息列表" parenttitle="可输入下拉框" extends="popupsinglepage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='10%'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="selectbox">
								<option value="0" label="女"/>
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="combox"  inlinecount="5" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="combox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="class{com.wabacusdemo.TestGetCityOptionsJavaDataSource}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="combox" depends="city;province=false" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%' and  province like '%#province#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="480px">
						<inputbox type="checkbox" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
				</display>
				<footer>
					<![CDATA[<br/>
					<font color='#ff0000'>说明：</font><font color='#0000FF'><br>
					&nbsp;&nbsp;“省”、“市”、“县”三列为可输入下拉框，其中“市”和“县”两个可输入下拉框都依赖“省”这个下拉框，“市”这一列的下拉框的选项数据通过JAVA类提供。<br/>
					</font>]]>
				</footer>
			</report>
		</tabpanel>
	</page>
	
	
	<page id="richtextboxcnpage1" js="/webresources/script/validate.js">
		<tabpanel id="tp1" margin="10px" titlewidth="100px" titlestyle="2">
			<report id="report1" parenttitle="默认样式" title="request{employeename}员工详细资料" type="form" dataexport="richexcel|plainexcel|word">
				<display valuetdwidth="200px" labeltdwidth="150px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
					<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="中文名"/>
					<col column="ename" label="英文名" br="true"/>
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="marriage" label="婚否" br="true">
						<inputbox type="selectbox">
							<option value="0" label="未婚"/> 
							<option value="1" label="已婚"/>
						</inputbox>
					</col>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" displaytype="hidden"/>
					<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
					<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
					</col>
					<col column="interest" label="兴趣爱好" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="checkbox" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option label="请选择" value=""/>
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县" br="true">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
					<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="richtextbox" inputboxparams="width:'100%',height:'400px'"/>
					</col>
				</display>
				<sql>
				  <select>
					<value>
						<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where  {#condition#}]]>
					</value>
					<condition name="txtgonghao" hidden="true">
						<value>
							<![CDATA[(A.no = '#data#' )]]>
						</value>
					</condition>
				  </select>
				  <insert condition="txtgonghao=@{no}">
				     insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{sex},@{age},@{birthday},@{deptno});
				     insert into tbl_detailinfo(@{no},@{ename},@{salary},@{marriage},@{joinindate},@{interest},@{province},@{city},@{county},@{description});
				  </insert>
				  <update>
				     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
				     update tbl_detailinfo(@{no},@{ename},@{salary},@{marriage},@{joinindate},@{interest},@{province},@{city},@{county},@{description}) where no=@{no__old};
				  </update>
				  <delete>
				     delete from tbl_baseinfo where no=@{no__old};
				     delete from tbl_detailinfo where no=@{no__old};
				  </delete>
				</sql>
				<format>
				  <imports>
						<import>com.wabacus.util.*</import>
				  </imports>
				  <value>
				  		rrequest.getRequest().setAttribute("employeename",name);//存放request，以便显示标题时能取到
				  		if(rrequest.getShowtype() != Consts.DISPLAY_ON_PAGE)
				  		{
				  			sex=sex==null?"":sex.trim();
							if(sex.equals("0")) sex="女";
							else if(sex.equals("1")) sex="男";
							marriage=marriage==null?"":marriage.trim();
							if(marriage.equals("1")) marriage="已婚";
							else if(marriage.equals("0")) marriage="未婚";
				  		}
				  </value>
				</format>
			</report>
			<report id="report2" parenttitle="改变样式" extends="richtextboxcnpage1.report1">
				<display valuetdwidth="200px" labeltdwidth="150px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
					<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="中文名"/>
					<col column="ename" label="英文名" br="true"/>
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="marriage" label="婚否" br="true">
						<inputbox type="selectbox">
							<option value="0" label="未婚"/> 
							<option value="1" label="已婚"/>
						</inputbox>
					</col>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" displaytype="hidden"/>
					<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
					<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
					</col>
					<col column="interest" label="兴趣爱好" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="checkbox" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option label="请选择" value=""/>
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县" br="true">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
					<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="richtextbox" inputboxparams="width:'100%',height:'400px',skin_variant:'silver'"/>
					</col>
				</display>
			</report>
		</tabpanel>
	</page>

	<page id="richtextboxenpage1" js="/webresources/script/validate.js">
		<tabpanel id="tp1" margin="10px" titlewidth="100px" titlestyle="2">
			<report id="report1" parenttitle="默认样式" extends="richtextboxcnpage1.report1">
				<display valuetdwidth="200px" labeltdwidth="150px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
					<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="中文名"/>
					<col column="ename" label="英文名" br="true"/>
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="marriage" label="婚否" br="true">
						<inputbox type="selectbox">
							<option value="0" label="未婚"/> 
							<option value="1" label="已婚"/>
						</inputbox>
					</col>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" displaytype="hidden"/>
					<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
					<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
					</col>
					<col column="interest" label="兴趣爱好" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="checkbox" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option label="请选择" value=""/>
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县" br="true">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
					<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="richtextbox" inputboxparams="width:'100%',height:'400px'" language="en"/>
					</col>
				</display>
			</report>
			<report id="report2" parenttitle="改变样式" extends="richtextboxcnpage1.report1">
				<display valuetdwidth="200px" labeltdwidth="150px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
					<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="中文名"/>
					<col column="ename" label="英文名" br="true"/>
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="marriage" label="婚否" br="true">
						<inputbox type="selectbox">
							<option value="0" label="未婚"/> 
							<option value="1" label="已婚"/>
						</inputbox>
					</col>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" displaytype="hidden"/>
					<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
					<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}" valuestyleproperty="colspan='3'" br="true">
						<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
					</col>
					<col column="interest" label="兴趣爱好" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="checkbox" separator=",">
							<option label="篮球" value="篮球"/>
							<option label="足球" value="足球"/>
							<option label="排球" value="排球"/>
							<option label="游泳" value="游泳"/>
							<option label="看书" value="看书"/>
							<option label="唱歌" value="唱歌"/>
							<option label="旅游" value="旅游"/>
							<option label="跑步" value="跑步"/>
							<option label="健身" value="健身"/>
							<option label="爬山" value="爬山"/>
						</inputbox> 
					</col>
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option label="请选择" value=""/>
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县" br="true">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
					<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'" br="true">
						<inputbox type="richtextbox" inputboxparams="width:'100%',height:'400px',skin_variant:'silver'" language="en"/>
					</col>
				</display>
			</report>
		</tabpanel>
	</page>

	<page id="datepickerpage1" js="/webresources/script/validate.js">
		 <report id="report1" title="员工信息列表" dataexport="word|richexcel" type="editablelist2">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='10%'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<group label="基本信息">
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
				</group>
				<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}">
					<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where {#condition#} order by no]]>
				</value>
				<condition name="txtgonghao" label="工号或姓名">
					<value>
						<![CDATA[(A.no like '%#data#%' or A.name like '%#data#%')]]>
					</value>
					<inputbox>
					  <typeprompt count="15">
						<promptcol label="no" title="工号" matchmode="anywhere"/>
						<promptcol label="name" title="姓名" matchmode="anywhere"/>
						<datasource><option dataset="@{select no,name from tbl_baseinfo where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{sex},@{age},@{birthday},@{deptno});
		  		 insert into tbl_detailinfo(@{no},@{salary},@{joinindate},@{province},@{city},@{county});
			  </insert>
			  <update>
			     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{salary},@{joinindate},@{province},@{city},@{county}) where no=@{no__old};
			  </update>
			  <delete>
			  	 delete from tbl_baseinfo where no=@{no__old};
			  	 delete from tbl_detailinfo where no=@{no__old}
			  </delete>
			</sql>
		    <format>
			  <value>
					sex=sex==null?"":sex.trim();
					if(sex.equals("0")) sex="女";
					else if(sex.equals("1")) sex="男";
			  </value>
			</format>
		</report>
	</page>
	
	<page id="datepickerpage2" js="/webresources/script/validate.js">
		 <report id="report1" extends="datepickerpage1.report1">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@' width='10%'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<group label="基本信息">
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄" clickorderby="true" width="100px" filter="true" filterwidth="120px">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker2" dateformat="y-mm-dd" jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
				</group>
				<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}">
					<inputbox type="datepicker2" dateformat="mm/dd/y"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
			</display>
		</report>
	</page>
	
	<page id="popuppage1" js="/webresources/script/validate.js,/wabacusdemo/js/testcallback.js">
	  	<tabpanel id="tp1" titlestyle="2" titlewidth="180px" margin="10px">
			<report id="report1" parenttitle="源输入框为普通文本框" title="员工信息列表" type="editablelist2" dataexport="richexcel">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="radiobox">
								<option value="0" label="女"/> 
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="200px">
						<inputbox type="popupbox"  popupparams="width:600,height:400" styleproperty=" size=30" jsvalidate="isNotEmpty(${invalid.isnotempty})">
							<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
						</inputbox> 
					</col>
				</display>
				<footer>${popupsinglepage1.report1.footer}</footer>
				<sql>
				  <select>
					<value>
						<![CDATA[SELECT A.no,name,sex,age,birthday,salary,A.deptno,deptname,province,city,county,interest FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where   {#condition#} order by no]]>
					</value>
					<condition name="txtno" label="工号">
						<value>
							<![CDATA[(A.no like  '%#data#%' )]]>
						</value>
						<inputbox>
						  <typeprompt width="-1" count="15">
							<promptcol label="no" matchmode="anywhere"/>
							<datasource><option dataset="@{select no from tbl_baseinfo where {#matchcondition#}}"/></datasource>
						  </typeprompt>
						</inputbox>
					</condition>
					<condition name="txtname" label="姓名">
						<value>
							<![CDATA[(name like  '%#data#%' )]]>
						</value>
					</condition>
				  </select>
				  <insert>
			  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{sex},@{age},@{birthday},@{deptno});
			  		 insert into tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{interest});
				  </insert>
				  <update>
				     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
				     update tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{interest}) where no=@{no__old};
				  </update>
				  <delete>
				  	 delete from tbl_baseinfo where no=@{no__old};
				  	 delete from tbl_detailinfo where no=@{no__old}
				  </delete>
				</sql>
				<format>
				  <value>
						sex=sex==null?"":sex.trim();
						if(sex.equals("0")) sex="女";
						else if(sex.equals("1")) sex="男";
				  </value>
				</format>
			</report>
			<report id="report2" parenttitle="源输入框为多行文本框" extends="popuppage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="radiobox">
								<option value="0" label="女"/> 
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="200px">
						<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30" sourcebox="textareabox">
							<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
						</inputbox> 
					</col>
				</display>
				<footer><![CDATA[<font color="red">说明：</font><font color="blue">弹出窗口输入框对应的源输入框为一多行文本框，这样方便显示更多的数据</font>]]></footer>
			</report>
			<report id="report3" parenttitle="弹出前回调函数" extends="popuppage1.report1">
				<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="radiobox">
								<option value="0" label="女"/> 
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="200px">
						<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30" sourcebox="textareabox" beforepopup="popupcallbackmethod">
							<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
						</inputbox> 
					</col>
				</display>
			</report>
			<report id="report4" parenttitle="同时为多列赋值" extends="popuppage1.report1">
			  	<display>
					<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="name" label="姓名" clickorderby="true"/>
					<group label="基本信息">
						<col column="sex" label="性别">
							<inputbox type="radiobox">
								<option value="0" label="女"/> 
								<option value="1" label="男"/>
							</inputbox>
						</col>
						<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
							<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
						</col>
						<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
							<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
						</col>
					</group>
					<col column="salary" label="工资" datatype="float">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
					</col>
					<col column="deptno" label="所属部门" displaytype="hidden"/>
					<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
						</inputbox>
					</col>
					<group label="籍贯">
						<col column="province" label="省">
							<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
							</inputbox>
						</col>
						<col column="city" label="市">
							<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
							</inputbox>
						</col>
						<col column="county" label="县">
							<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
								<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
							</inputbox>
						</col>
					</group>
					<col column="interest" label="兴趣爱好" width="200px">
						<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30">
							<![CDATA[/wabacusdemo/jsp/testpopupbox2.jsp?name=@{name}&no=@{no}&type=editablelist2]]>
						</inputbox> 
					</col>
			  	</display>
			  	<footer>${popupmultiplypage1.report1.footer}</footer>
			</report>
	  	</tabpanel>
	</page>
	
	<page id="popupsinglepage1" js="/webresources/script/validate.js">
	  <tabpanel id="tp1" titlestyle="2" margin="10px">
		<report id="report1" title="editablelist2报表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<group label="基本信息">
					<col column="sex" label="性别">
						<inputbox type="radiobox">
							<option value="0" label="女"/> 
							<option value="1" label="男"/>
						</inputbox>
					</col>
					<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
						<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
					</col>
					<col column="birthday" label="出生日期" clickorderby="true" width="150px" datatype="date{yyyy-MM-dd}">
						<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
					</col>
				</group>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="interest" label="兴趣爱好" width="200px">
					<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30">
						<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
					</inputbox> 
				</col>
			</display>
			<footer>${popupsinglepage1.report1.footer}</footer>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,sex,age,birthday,salary,A.deptno,deptname,province,city,county,interest FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where   {#condition#} order by no]]>
				</value>
				<condition name="txtno" label="工号">
					<value>
						<![CDATA[(A.no like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="-1" count="15">
						<promptcol label="no" matchmode="anywhere"/>
						<datasource><option dataset="@{select no from tbl_baseinfo where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
				<condition name="txtname" label="姓名">
					<value>
						<![CDATA[(name like  '%#data#%' )]]>
					</value>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{sex},@{age},@{birthday},@{deptno});
		  		 insert into tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{interest});
			  </insert>
			  <update>
			     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{interest}) where no=@{no__old};
			  </update>
			  <delete>
			  	 delete from tbl_baseinfo where no=@{no__old};
			  	 delete from tbl_detailinfo where no=@{no__old}
			  </delete>
			</sql>
		    <format>
			  <value>
					sex=sex==null?"":sex.trim();
					if(sex.equals("0")) sex="女";
					else if(sex.equals("1")) sex="男";
			  </value>
			</format>
		</report>
		<report id="report2" title="editabledetail2报表" type="editabledetail2" dataexport="richexcel">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="中文名"/>
				<col column="ename" label="英文名" br="true"/>
				<col column="sex" label="性别">
					<inputbox type="radiobox">
						<option value="0" label="女"/> 
						<option value="1" label="男"/>
					</inputbox>
				</col>
				<col column="age" label="年龄">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="marriage" label="婚否" br="true">
					<inputbox type="selectbox">
						<option value="0" label="未婚"/> 
						<option value="1" label="已婚"/>
					</inputbox>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}">
					<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
				</col>
				<col column="interest" label="兴趣爱好"  br="true">
					<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30">
						<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
					</inputbox> 
				</col>
				<col column="province" label="省">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
					</inputbox>
				</col>
				<col column="city" label="市">
					<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
					</inputbox>
				</col>
				<col column="county" label="县" br="true">
					<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
					</inputbox>
				</col>
				<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox" styleproperty="rows='5'"/>
				</col>
			</display>
			<footer>${popupsinglepage1.report1.footer}</footer>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where   {#condition#}]]>
				</value>
				<condition name="txtgonghao" label="工号或姓名">
					<value>
						<![CDATA[(A.no like '%#data#%' or A.name like '%#data#%')]]>
					</value>
					<inputbox>
					  <typeprompt count="15">
						<promptcol label="no" title="工号" matchmode="anywhere"/>
						<promptcol label="name" title="姓名" matchmode="anywhere"/>
						<datasource><option dataset="@{select no,name from tbl_baseinfo where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			   <update>
			     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{ename},@{salary},@{marriage},@{joinindate},@{interest},@{province},@{city},@{county},@{description}) where no=@{no__old};
			  </update>
			</sql>
			<format>
			  <value>
					sex=sex==null?"":sex.trim();
					if(sex.equals("0")) sex="女";
					else if(sex.equals("1")) sex="男";
					marriage=marriage==null?"":marriage.trim();
					if(marriage.equals("1")) marriage="已婚";
					else if(marriage.equals("0")) marriage="未婚";
			  </value>
			</format>
		</report>
		<report id="report3" title="editabledetail报表" type="editabledetail" dataexport="richexcel">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="no" label="工号"  valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="中文名"/>
				<col column="ename" label="英文名" br="true"/>
				<col column="sex" label="性别">
					<inputbox type="radiobox">
						<option value="0" label="女"/> 
						<option value="1" label="男"/>
					</inputbox>
				</col>
				<col column="age" label="年龄">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="marriage" label="婚否" br="true">
					<inputbox type="selectbox">
						<option value="0" label="未婚"/> 
						<option value="1" label="已婚"/>
					</inputbox>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" updatecol="@{deptno}" valuestyleproperty="colspan='3'" br="true">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<col column="birthday" label="出生日期" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isNotEmpty(${invalid.isnotempty});isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="joinindate" label="入职日期" datatype="date{MM/dd/yyyy}">
					<inputbox type="datepicker" dateformat="MM/dd/yyyy"/>
				</col>
				<col column="interest" label="兴趣爱好"  br="true">
					<inputbox type="popupbox"  width="600" height="400" styleproperty=" size=30">
						<![CDATA[/wabacusdemo/jsp/testpopupbox.jsp?name=@{name}&no=@{no}]]>
					</inputbox> 
				</col>
				<col column="province" label="省">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
					</inputbox>
				</col>
				<col column="city" label="市">
					<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
					</inputbox>
				</col>
				<col column="county" label="县" br="true">
					<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
					</inputbox>
				</col>
				<col column="description" label="评价" datatype="clob" valuestyleproperty="colspan='5'">
					<inputbox type="textareabox" styleproperty="rows='5'"/>
				</col>
			</display>
			<footer>${popupsinglepage1.report1.footer}</footer>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,ename,sex,age,marriage,salary,A.deptno,deptname,birthday,joinindate,interest,province,city,county,B.description FROM tbl_baseinfo A left join tbl_detailinfo B  on A.no=B.no left join tbl_department C on A.deptno=C.deptno where   {#condition#}]]>
				</value>
				<condition name="txtgonghao" hidden="true">
					<value>
						<![CDATA[(A.no = '#data#' )]]>
					</value>
				</condition>
			  </select>
			  <insert condition="txtgonghao=@{no}">
			     insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{sex},@{age},@{birthday},@{deptno});
			     insert into tbl_detailinfo(@{no},@{ename},@{salary},@{marriage},@{joinindate},@{interest},@{province},@{city},@{county},@{description});
			  </insert>
			  <update>
			     update tbl_baseinfo(@{no},@{name},@{sex},@{age},@{birthday},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{ename},@{salary},@{marriage},@{joinindate},@{interest},@{province},@{city},@{county},@{description}) where no=@{no__old};
			  </update>
			  <delete>
			     delete from tbl_baseinfo where no=@{no__old};
			     delete from tbl_detailinfo where no=@{no__old};
			  </delete>
			</sql>
			<format>
			  <value>
			  		//System.out.println(rrequest.getRequest().getServerName()+"  "+rrequest.getRequest().getServerPort());
			  		String accessmode=rrequest.getCurrentAccessMode(rbean.getId()); 
					if(accessmode.equals("read")||accessmode.equals("readonly"))
					{//如果是浏览模式，则进行如下格式化
						sex=sex==null?"":sex.trim();
						if(sex.equals("0")) sex="女";
						else if(sex.equals("1")) sex="男";
						marriage=marriage==null?"":marriage.trim();
						if(marriage.equals("1")) marriage="已婚";
						else if(marriage.equals("0")) marriage="未婚";
					}
			  </value>
			</format>
		</report>
	  </tabpanel>
	</page>
	
	<page id="fileuploadpage1" js="/webresources/script/validate.js,/wabacusdemo/js/testcallback.js">
	  <tabpanel id="tab1" titlewidth="150px" titlestyle="2" margin="10">
		<report id="report1" parenttitle="图片文件上传" title="员工信息列表" type="editablelist2" dataexport="word|richexcel">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="photo" label="照片">
					<inputbox type="file" maxsize="10240" allowedtypes="jpg;gif;png"  displaytype="image" deletetype="2"
					          savepath="relative{\wabacusdemo\uploadfile\}" rooturl="/wabacusdemo/uploadfile/"/> <!-- />-->
				</col>
			</display>
			<footer>${fileuploadlistpage1.report1.footer}</footer>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,sex,age,birthday,salary,A.deptno,deptname,province,city,county,photo FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where   {#condition#} order by no]]>
				</value>
				<condition name="txtno" label="工号">
					<value>
						<![CDATA[(A.no like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="-1" count="15">
						<promptcol label="no" matchmode="anywhere"/>
						<datasource><option dataset="@{select no from tbl_baseinfo where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
				<condition name="txtname" label="姓名">
					<value>
						<![CDATA[(name like  '%#data#%' )]]>
					</value>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{age},@{deptno});
		  		 insert into tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{photo});
			  </insert>
			  <update>
			     update tbl_baseinfo(@{no},@{name},@{age},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{photo}) where no=@{no__old};
			  </update>
			  <delete>
			  	 delete from tbl_baseinfo where no=@{no__old};
			  	 delete from tbl_detailinfo where no=@{no__old}
			  </delete>
			</sql>
			<format>
			  <imports>
					<import>com.wabacus.util.*</import>
			  </imports>
			  <value>
			  <![CDATA[
			  	if(rrequest.getShowtype() == Consts.DISPLAY_ON_RICHEXCEL
			  		||rrequest.getShowtype() == Consts.DISPLAY_ON_WORD)
			  	{//如果当前是下载到excel/word中，则拼凑成图像。显示在页面中不用，因为它的输入框类型为FileBox，是在显示时填充的输入框，此输入框会自动显示图像
			  		if(photo!=null&&!photo.trim().equals(""))
				   {
				    	photo="<img src=\""+photo+"\">";
				   }
			  	}
			  ]]>
			  </value>
			</format>
		</report>
		<report id="report2" parenttitle="WEB文件上传" extends="fileuploadpage1.report1">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="photo" label="照片URL" width="300px">
					<inputbox type="file" maxsize="10240" allowedtypes="jpg;gif;png"  displaytype="textbox" deletetype="2"
					          savepath="relative{\wabacusdemo\uploadfile\}" rooturl="/wabacusdemo/uploadfile/"/> <!-- />-->
				</col>
			</display>
			<footer>${fileuploadlistpage1.report2.footer}</footer>
		</report>
		<report id="report3" parenttitle="普通文件上传" title="员工信息列表" type="editablelist2" dataexport="richexcel">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="jl" label="简历附件" width="200px">
					<inputbox type="file" maxsize="10240" allowedtypes="doc;txt;html;pdf"  displaytype="textbox" deletetype="1"
					          savepath="absolute{D:\}"/> <!-- />-->
				</col>
			</display>
			<footer>${fileuploadlistpage1.report3.footer}</footer>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT A.no,name,sex,age,birthday,salary,A.deptno,deptname,province,city,county,jl FROM tbl_baseinfo A left join tbl_department B on A.deptno=B.deptno left join tbl_detailinfo C on A.no=C.no where   {#condition#} order by no]]>
				</value>
				<condition name="txtno" label="工号">
					<value>
						<![CDATA[(A.no like  '%#data#%' )]]>
					</value>
					<inputbox>
					  <typeprompt width="-1" count="15">
						<promptcol label="no" matchmode="anywhere"/>
						<datasource><option dataset="@{select no from tbl_baseinfo where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
				<condition name="txtname" label="姓名">
					<value>
						<![CDATA[(name like  '%#data#%' )]]>
					</value>
				</condition>
			  </select>
			  <insert>
		  		 insert into tbl_baseinfo(uuid=uuid{},@{no},@{name},@{age},@{deptno});
		  		 insert into tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{jl});
			  </insert>
			  <update>
			     update tbl_baseinfo(@{no},@{name},@{age},@{deptno}) where no=@{no__old};
			     update tbl_detailinfo(@{no},@{salary},@{province},@{city},@{county},@{jl}) where no=@{no__old};
			  </update>
			  <delete>
			  	 delete from tbl_baseinfo where no=@{no__old};
			  	 delete from tbl_detailinfo where no=@{no__old}
			  </delete>
			</sql>
		</report>
		<report id="report4" parenttitle="上传后文件改名" extends="fileuploadpage1.report3">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="jl" label="简历附件" width="200px">
					<inputbox type="file" maxsize="10240" allowedtypes="doc;txt;html;pdf" newfilename="{timestamp}" displaytype="textbox" deletetype="1"
					          savepath="absolute{D:\}"/> <!-- />-->
				</col>
			</display>
			<footer>${fileuploadlistpage1.report4.footer}</footer>
		 </report>
		 <report id="report5" parenttitle="同时上传多个文件" extends="fileuploadpage1.report3">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="jl" label="简历附件" width="200px">
					<inputbox type="file" maxsize="10240" allowedtypes="doc;txt;html;pdf" uploadcount="3" displaytype="textbox" deletetype="1"
					          savepath="absolute{D:\}" beforepopup="popupcallbackmethod"/> 
				</col>
			</display>
			<footer></footer>
		 </report>
		 <report id="report6" parenttitle="上传前回调函数" extends="fileuploadpage1.report3">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="jl" label="简历附件" width="200px">
					<inputbox type="file" maxsize="10240" allowedtypes="doc;txt;html;pdf" displaytype="textbox" deletetype="1"
					          savepath="absolute{D:\}" beforepopup="popupcallbackmethod"/> 
				</col>
			</display>
			<footer></footer>
		 </report>
		 <report id="report7" parenttitle="文件上传拦截器" extends="fileuploadpage1.report3">
			<display>
				<col column="no" label="工号" clickorderby="true" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="name" label="姓名" clickorderby="true"/>
				<col column="age" label="年龄" clickorderby="true" filter="true" filterwidth="120px">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty});isNumeric(#data#不是合法数字)"/>
				</col>
				<col column="salary" label="工资" datatype="float">
					<inputbox jsvalidate="isNotEmpty(${invalid.isnotempty})"/>
				</col>
				<col column="deptno" label="所属部门" displaytype="hidden"/>
				<col column="deptname" label="所属部门" filter="true" filterwidth="120px" updatecol="@{deptno}">
					<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
						<option dataset="@{select deptno,deptname from tbl_department}" label="deptname" value="deptno"/>
					</inputbox>
				</col>
				<group label="籍贯">
					<col column="province" label="省">
						<inputbox type="selectbox" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct province from tbl_area}" label="province" value="province"/>
						</inputbox>
					</col>
					<col column="city" label="市">
						<inputbox type="selectbox" depends="province" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct city from tbl_area where province like '%#province#%'}" label="city" value="city"/>
						</inputbox>
					</col>
					<col column="county" label="县">
						<inputbox type="selectbox" depends="city" servervalidate="isNotEmpty(${invalid.isnotempty})">
							<option dataset="@{select distinct county from tbl_area where city like '%#city#%'}" label="county" value="county"/>
						</inputbox>
					</col>
				</group>
				<col column="jl" label="简历附件" width="300px">
					<inputbox type="file" maxsize="10240" allowedtypes="doc;txt;html;pdf" displaytype="textbox" deletetype="1"
					         width="500" height="300" savepath="absolute{D:\}" interceptor="com.wabacusdemo.TestFileUploadInterceptor"
								inputboxparams="param_no=@{no}&amp;param_name=@{name}&amp;param_txtno=rrequest{txtno}"/>
				</col>
			</display>
			<footer>
			<![CDATA[
				<font color="red">在此文件上传功能中，通过拦截器实现了如下功能：</font><br>
					&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">1、通过拦截器在上传界面显示了一个额外的表单输入框，上传后将此表单输入框输入数据做为保存数据的一部分，并将上传文件大小也做为保存数据</font><br>
					&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">2、在文件上传＜inputbox/＞的inputboxparams属性中传入了工号、姓名两列的值及“工号”查询条件值到弹出的文件上传界面中，并在拦截器中取出并打印在界面上</font><br>
					&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">3、在上传完后，自己提示成功或失败消息，没有使用框架的默认提示，并向本条记录中其它列设置了值</font><br>
			]]>
			</footer>
		 </report>
	  </tabpanel>
	</page>
	
	<page id="customizeinputboxpage1" js="/webresources/script/validate.js,/wabacusdemo/js/demo.js">
		<report id="report1" title="request{dept_name}详细资料" type="editabledetail" dataexport="richexcel"
				  template="/wabacusdemo/jsp/tagpages/customizeinputbox.jsp">
			<display valuetdwidth="100px" labeltdwidth="71px" labelbgcolor="#f0f0f0" labelalign="right" valuealign="left">
				<col column="guid" displaytype="hidden"/>
				<col column="deptno" label="部门编号" valuestyleproperty="style='mso-number-format:\@'">
					<inputbox jsvalidate="isNotEmpty(#label#列不允许为空)"/>
				</col>
				<col column="deptname" label="部门名"/>
				<col column="manager" label="部门经理" br="true"/>
				<col column="builtdate" label="创建日期" valuestyleproperty="colspan='2'" datatype="date{yyyy-MM-dd}">
					<inputbox type="datepicker"  jsvalidate="isDate(#data#格式不对，必须为yyyy-MM-dd格式)"/>
				</col>
				<col column="performance" label="表现" valuestyleproperty="colspan='2'" br="true" ongetvalue="getPerformanceValue" onsetvalue="setPerformanceValue">
					<inputbox type="customized"/>
				</col>
				<col column="description" label="简介" datatype="clob" valuestyleproperty="colspan='5'" ongetvalue="getDescriptionValue" onsetvalue="setDescriptionValue">
					<inputbox type="customized" jsvalidate="isNotEmpty(#label#列不允许为空)"/>
				</col>
			</display>
			<sql>
			  <select>
				<value>
					<![CDATA[SELECT * FROM tbl_department where  {#condition#}]]>
				</value>
				<condition name="txtdeptno" label="部门编号">
					<value>
						<![CDATA[(deptno like '%#data#%' )]]>
					</value>
					<inputbox>
						 <typeprompt count="15">
						<promptcol label="deptno" matchmode="anywhere"/>
						<datasource><option dataset="@{select deptno from tbl_department where {#matchcondition#}}"/></datasource>
					  </typeprompt>
					</inputbox>
				</condition>
			  </select>
			  <insert condition="txtdeptno=@{deptno}">
		  		 insert into tbl_department(guid=uuid{},@{deptno},@{deptname},@{manager},@{builtdate},@{performance},@{description});
			  </insert>
			  <update>
			     update tbl_department(@{deptno},@{deptname},@{manager},@{builtdate},@{performance},@{description}) where guid=@{guid};
			     update tbl_baseinfo(@{deptno}) where deptno=@{deptno__old};
			  </update>
			</sql>
			<format>
				<value>
					rrequest.getRequest().setAttribute("dept_name",deptname);//存放request，以便显示标题时能取到
				</value>
			</format>
		</report>
	</page>
</applications>